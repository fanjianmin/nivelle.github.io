---
layout: post
title:  "redis基础学习(三)"
date:   2017-07-30 01:06:05
categories: noSQL
tags: redis
excerpt: redis
---

### 字符串

字符串可以存储以下3种类型的值:

- 字节串
- 整数
- 浮点数

---


### redis中的自增和自减命令


命令 | 用例和描述
---|--- |---
INCR | INCR key-name :将键上的值加上1
DECR | DECR key-name :将键存储的值减去1
INCRBY | INCRBY key-name amount:将键存储的值加上整数 amount
DECRBY | DECRBY key-name amount:将键存储的值减去整数 amount
INCRBYFLOAT | INCRBYFLOAT key-name amount:将键存储的值加上浮点数amount

当用户将一个值存储到redis字符串里面的时候,如果这个值可以被解释为十进制整数或者浮点数,那么redis会察觉到这一点,并允许用户对这个字符串执行各种INCR* 和DECR *操作.如果对一个不存在的键或者一个保存了空串的键执行自增或者自减操作,那么Dedis在执行操作的时候会把它当做0来处理.


###  Redis处理子串和二进制位的命令

命令 | 用例和描述
---|--- |---
APPEND | APPEND key-name value :将值value追加到给定键key-name 当前存储的值的末尾
GETRANGE|GETRANGE key-name start end:获取一个由偏移量start至偏移量end范围内所有字符组成的子串,包括start和end
SETRANGE|SETRANGE key-name offset value :将从start偏移量开始的子串设置为给定值
GETBIT|GETBIT key-name offset:将字节串看作是二进制串,并返回位串中偏移量为offset的二进制位的值.
SETBIT|SETBIT key-name offset value:将字节串看作是二进制位串,并将位串中偏移量为offset的二进制位的值设置为value.
BITCOUNT|BITCOUNT key-name[start end]:统计二进制位串里面值为1的二进制位的数量,如果给定了可选的start偏移量和end偏移,那么只对偏移量指定范围内的二进制位进行统计.
BITOP|BITOP operation dest-key key-name[key-name]:对一个或多个二进制位串执行包括(AND),或(OR),异或(XOR),非(NOT)在内的任意一种安位运算操作,并将计算得出的结果保存在dst-key键里面

---

### 列表

命令 | 用例和描述
--- | --- 
LTRIM | LTRIM key-name start end :对列表进行修剪,只保留从start偏移量到end偏移量范围内的元素,其中偏移量为start和end的元素会被保留

###  阻塞式的弹出命令以及在列表之间移动元素的命令

命令 | 用例和描述
--- | --- 
BLPOP | BLPOP key-name [key-name...] timeout  :从第一个非空列表中弹出位于最左端的元素,或者在timeout秒之内阻塞并等待可弹出的元素出现.
BRPOP | BRPOP key-name [key-name...] timeout  :从第一个非空列表中弹出位于最右端的元素,或者在timeout秒之内阻塞并等待可弹出的元素出现.
RPOPLPUSH | RPOPLPUSH source-key dest-key:从source-dest列表中弹出最右端的元素,然后将这个元素推入dest-key最左端,并向用户返回这个元素.
BRPOPLPUSH|BRPOPLPUSH source-key dest-key:从source-dest列表中弹出最右端的元素,然后将这个元素推入dest-key最左端,并向用户返回这个元素.


### 常见集合命令

命令 | 用例和描述
--- | --- 
SCARD|SCARD key-name:返回集合包含的元素数量
SRANDMEMBER |SRANDMEMBER key-name [count]:从集合里面随机返回一个或多个元素,当count为正数时,命令返回的随机元素不会重复;当count为负数时,命令返回的随机元素可能会出现重复.
SPOP | SPOP key-name :随机地移除集合中的一个元素,并返回被移除的元素.
SMOVE | SMOVE source-key dest-key item :如果集合source-key 包含元素item,那么从集合source-key里面移除元素item,并将元素item添加到集合dest-key中,如果item被成功移除,那么命令返回1;否则返回0.


### 组合和处理多个集合的Redis命令

命令 | 用例和描述
--- | --- 
DIIFF |DIIFF key-name[key - name ...] 返回那些存在于第一个集合但不存在于第二个集合中的元素(差集)
SDIFFSTORE | SDIFFSTORE dest-key key-name[...]:将那些存在于第一个集合但并不存在与其他集合中的元素,存储到dest-key键里面
SINTER | SINTER key-name[key -name...]:返回那些同时存在于所有集合中的元素(交集运算)
SINTERSTORE | SINTERSTORE dest-key key - name [key-name...]:将那些同时存在于所有集合的元素存储到dest-key键里面
SUNION | SUNION key -name [key -name...] :返回那些至少存在于一个集合中的元素(并集)
SUNIONSTORE | SUNIONSTORE dest - key key - name [key - name...] : 将那些至少存在于一个集合中的元素(并集)存储到dest-key键里面.


### 散列

用于添加和删除键值对的散列操作

命令 | 用例和描述
--- | --- 
HMGET | HMGET key-name key[key...]:从散列里面获取一个或多个键值
HMSET | HMSET key-name key value[key value...]:为散列里面的一个或多个键设置值
HLEN  | HELEN key -name :返回散列包含的键值对数量


#### 散列的高级特性

命令 | 用例和描述
--- | --- 
HEXISTS | HEXISTS key-name key :检查给定键是否存在于散列中
HKEYS | HKEYS key -name :获取散列所有的键
HVALS | HVALS key - name :获取散列包含的所有值
HGETALL | HGETALL key -name :获取散列包含的所有键值对
HINCRBY | HINCRBY key -name key increment :将键key存储的值加上整数increment
HINCRBYFLOAT| HINCRBYFLOAT key-name key incremnt:将键key存储的值加上浮点数increment

### 有序集合

命令 | 用例和描述
--- | --- 
ZCARD | ZCARD key-name:返回有序集合包含的成员数量
ZINCRBY |ZINCRBY  key -name increment member :将member成员的分值加上increment
ZCOUNT | ZCOUNT key -name min max :返回介于min和max之间的成员数量
ZRANK | ZRANK key-name member:返回menmber 在有序集合中的排名
ZSCORE |ZSCORE key -name member:返回member成员的分值

### 有序集合范围性数据获取命令和范围性删除命令以及并集命令和交集命令

命令 | 用例和描述
--- | --- 
ZREVRANK  | ZREVRANK key -name member:返回有序集合里成员member的排名,成员按照分值从大到小排列
ZREVRANGE | ZREVRANGE key-name start stopn[WITHSCORES] :返回有序集合给定排名范围内成员,成员按照分值从大到小排列
ZRANGEBYSCORE |ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]:返回有序集合中,分值介于min和max之间的所有成员,并按照分值从小到大的顺序来返回
ZREMRANGEBYRANK | ZREMRANGBUURANK key-name start stop:移除有序集合中排名介于start和stop之间的所有成员
ZREMRANGEBYSCORE | ZREMRANGEBYSCORE key -name min max :移除有序集合中 分值排名介于min和max之的所有成员
ZINTERSTORE | ZINTERSORE dest-key key-count key [key...][WEIGHTS weight [weight...]][AGGREGATE SUM|MIN|MAX]:对给定的有序集合执行类似于集合的交集运算
ZUNIONSTORE | ZUNIONSTORE dest-key key-count key [key ...] [WEIGHTS weight [weight ...]] [AGGREGATE SUM|MIN|MAX]:对给定的有序集合执行类似于集合的并集运算.






