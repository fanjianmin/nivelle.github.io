---
layout: post
title:  "redis深入学习(三)之跳跃表"
date:   2017-09-07 01:06:05
categories: noSQL
tags: redis
excerpt: redis
---


* content
{:toc}


### 跳跃表

跳跃表是一种有序数据结构,它通过在每个节点中维持多个指向其他节点的指针,从而达到快速访问节点的目的.

跳跃表支持平均o(logN),最坏O(N)复杂度的节点查找,还可以通过顺序性操作来批量处理节点.

redis使用跳跃表作为有序集合键的底层实现之一,如果一个有序集合包含的元素数量比较多,或者有序集合中元素的成员是比较长的字符串时,redis就会使用跳跃表来作为有序集合键的底层实现.

#### 数据结构redis.h.zskiplistNode

```
typedef struct zskiplistNode{
  //层
  struct zskiplistLevel{
    //前进指针
    struct zskiplistNode * forward;
    //跨度
    unsigned int span;
  }level[];

  //后退指针
  struct zskiplistNode *backward;
  //分值
  double score;
  //成员对象
  robj *obj;
}zskiplistNode;


```

![image](http://7xpuj1.com1.z0.glb.clouddn.com/%E8%B7%B3%E8%B7%83%E8%A1%A8.png)
