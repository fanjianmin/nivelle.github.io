---
layout: post
title:  "多线程学习(二)"
date:   2017-05-27 00:06:05
categories: 技术
tags: 多线程
excerpt: 多线程深入学习
author: nivelle
---

* content
{:toc}

#### 对象的组合

#####  设计线程安全的类

设计线程安全类过程中，需要包含下面三个基本要素

- 找出构成对象状态的所有变量
- 找出约束状态变量的不变性条件
- 建立对象状态的并发访问管理策略

** **

如果在对象的域中引用了其他对象，那么该对象的状态将包含被引用对象的域。

如果在一个不变性条件中包含多个变量，那么在执行任何访问相关变量的操作时，都必须持有保护这些变量的锁。

#####  实例封闭

封装简化了线程安全类的实现过程，它提供了一种实例封闭机制，通常也简称为“封闭”。当一个被封装到另一个对象中时，能够访问被封装对象的所有代码路径都是已知的。

```
将数据封装在对象内部，可以将数据的访问现在对象的方法上，从而更容易确保线程在访问数据时总能持有正确的锁。

```
